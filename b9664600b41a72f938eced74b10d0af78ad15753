---
type: learnings
timestamp: '2025-12-26T14:45:47.527279+00:00'
summary: '▶ learned ─────────────────────────────────────

  Memory index location is project-specific at .mem...'
tags:
- auto-captured
- pre-compact
---

Memory index location is project-specific at .memory/index.db
## Context
Investigated why index showed 0 memories after sync reported 2692.

## Key Insight
The SyncService uses `get_project_index_path(repo_path)` which resolves to `.memory/index.db`, NOT `.git/memory-index.db` or the global `~/.local/share/memory-plugin/index.db`.

## Related Files
- src/git_notes_memory/sync.py:88
- src/git_notes_memory/config.py

---
type: learnings
timestamp: '2025-12-26T14:45:47.617810+00:00'
summary: '▶ learned ─────────────────────────────────────

  SessionStart memory retrieval is limited by desig...'
tags:
- auto-captured
- pre-compact
---

SessionStart memory retrieval is limited by design
## Key Factors
- `session_start_max_memories` config (default 30)
- Token budget split (60% learnings, 40% patterns)
- Semantic relevance filtering via embedding distance
- Project name used as search query

## Implication
Low relevance scores (0.53-0.58) indicate the project name alone isn't a strong semantic match. More specific queries during `/memory:recall` will find more relevant results.

---
type: learnings
timestamp: '2025-12-26T14:45:47.666633+00:00'
summary: '### Key Insight: Specific Queries = Better Results

  | Query Type | Example | Relevance |

  |-------...'
tags:
- auto-captured
- pre-compact
---

### Key Insight: Specific Queries = Better Results

| Query Type | Example | Relevance |
|------------|---------|---...

---
type: learnings
timestamp: '2025-12-26T14:45:47.716066+00:00'
summary: '▶ learned ─────────────────────────────────────

  Runtime memory retrieval uses context-specific qu...'
tags:
- auto-captured
- pre-compact
---

Runtime memory retrieval uses context-specific queries
## Mechanisms
1. **PostToolUse hook**: Auto-searches using file path terms
2. **Explicit search**: I can query with specific task-related terms
3. **Slash commands**: `/memory:recall <query>` for user-initiated search

## Best Practice
Use task-specific queries (0.77 relevance) rather than generic project names (0.53 relevance). Before modifying code, search for related decisions/patterns/learnings.

## Gap Identified
I should proactively search memories when starting work on specific components, not just rely on SessionStart context.

---
type: learnings
timestamp: '2025-12-26T14:45:47.816728+00:00'
summary: '...**detailed** | Expanded RULE 5 with tables, code examples, and self-check
  protocol |

  The key ...'
tags:
- auto-captured
- pre-compact
---

...**detailed** | Expanded RULE 5 with tables, code examples, and self-check protocol |

The key insight captured in the templates: SessionStart injects ~5 memories using a generic project name query...

---
type: learnings
timestamp: '2025-12-26T14:45:48.433014+00:00'
summary: '...However, looking at the file, it uses `get_metrics_registry` which doesn''t
  exist in the codeba...'
tags:
- auto-captured
- pre-compact
---

...However, looking at the file, it uses `get_metrics_registry` which doesn't exist in the codebase (we discovered earlier that the actual function is `get_metrics`). This script appears to be incomplete or...

---
type: learnings
timestamp: '2025-12-26T14:50:55.091502+00:00'
summary: '▶ learned ─────────────────────────────────────

  Memory index location is project-specific at .mem...'
tags:
- auto-captured
- pre-compact
---

Memory index location is project-specific at .memory/index.db
## Context
Investigated why index showed 0 memories after sync reported 2692.

## Key Insight
The SyncService uses `get_project_index_path(repo_path)` which resolves to `.memory/index.db`, NOT `.git/memory-index.db` or the global `~/.local/share/memory-plugin/index.db`.

## Related Files
- src/git_notes_memory/sync.py:88
- src/git_notes_memory/config.py
