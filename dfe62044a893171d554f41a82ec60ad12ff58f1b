---
type: decisions
timestamp: '2025-12-26T00:07:01.569174+00:00'
summary: Confirmed key architectural decisions for multi-domain memories
---

Confirmed key architectural decisions for multi-domain memories
## Summary
User validated 4 critical design decisions from the open questions in GitHub Issue #13.

## Rationale
- **Storage**: Separate bare git repo at `~/.local/share/memory-plugin/user-memories/` - maintains git notes semantics for both domains
- **Conflicts**: Project memories override user memories - local context is more specific
- **Team domain**: Deferred to v2 - keep initial scope focused
- **Sync**: Optional remote auto-sync - configure remote and sync on session events

## Related Files
- GitHub Issue #13: https://github.com/zircote/git-notes-memory/issues/13

---
type: decisions
timestamp: '2025-12-26T00:12:39.347044+00:00'
summary: User confirmed full 3-tier implementation with optional extras pattern
---

User confirmed full 3-tier implementation with optional extras pattern
## Summary
All three observability tiers will be implemented, with OpenTelemetry as an optional `[monitoring]` extra.

## Rationale
- Full implementation provides complete observability stack
- Optional extras pattern (`pip install .[monitoring]`) keeps core lightweight
- Structured JSON logging becomes new default
- Unified debug levels replace fragmented HOOK_DEBUG

## Related Files
- pyproject.toml (extras configuration)
- docs/spec/active/2025-12-25-observability-instrumentation/

---
type: decisions
timestamp: '2025-12-26T00:16:23.352768+00:00'
summary: '▶ decision ─────────────────────────────────────

  User confirmed full 3-tier implementation with o...'
tags:
- auto-captured
- pre-compact
---

User confirmed full 3-tier implementation with optional extras pattern
## Summary
All three observability tiers will be implemented, with OpenTelemetry as an optional `[monitoring]` extra.

## Rationale
- Full implementation provides complete observability stack
- Optional extras pattern (`pip install .[monitoring]`) keeps core lightweight
- Structured JSON logging becomes new default
- Unified debug levels replace fragmented HOOK_DEBUG

## Related Files
- pyproject.toml (extras configuration)
- docs/spec/active/2025-12-25-observability-instrumentation/

---
type: decisions
timestamp: '2025-12-26T00:17:16.171695+00:00'
summary: Finalized v1 scope and design decisions
---

Finalized v1 scope and design decisions
## Summary
User confirmed scope: Pattern + Entropy detection, PII included, full audit logging, CLI + config allowlist, redact file content.

## Rationale
- **Detection layers**: Pattern + Entropy (contextual excluded from v1, ML extension points only)
- **Default action**: Redact (replace with `[REDACTED:type]`)
- **PII**: Include SSN, credit cards, phone numbers
- **Audit**: Full audit trail for compliance
- **Allowlist**: CLI commands + config file
- **Files**: Redact content (don't skip files)
- **Scanning**: Yes, with full remediation capability
- **Dependencies**: Pure Python only

## Related Files
- docs/spec/active/2025-12-25-secrets-filtering/README.md

---
type: decisions
timestamp: '2025-12-26T00:21:16.430264+00:00'
summary: User confirmed full 3-tier implementation with optional extras pattern
---

User confirmed full 3-tier implementation with optional extras pattern
## Summary
All three observability tiers will be implemented, with OpenTelemetry as an optional `[monitoring]` extra.

## Rationale
- Full implementation provides complete observability stack
- Optional extras pattern (`pip install .[monitoring]`) keeps core lightweight
- Structured JSON logging becomes new default
- Unified debug levels replace fragmented HOOK_DEBUG

## Related Files
- pyproject.toml (extras configuration)
- docs/spec/active/2025-12-25-observability-instrumentation/

---
type: decisions
timestamp: '2025-12-26T00:31:27.121638+00:00'
summary: '...(new directory with full spec)'
---

...(new directory with full spec)
- `CLAUDE.md` (modified with Active Spec Projects section)

[decision] Switched to existing v1.0.0 branch which contains merged subconsciousness and multi-domain...

---
type: decisions
timestamp: '2025-12-26T00:31:27.166390+00:00'
summary: Finalized v1 scope and design decisions
---

Finalized v1 scope and design decisions
## Summary
User confirmed scope: Pattern + Entropy detection, PII included, full audit logging, CLI + config allowlist, redact file content.

## Rationale
- **Detection layers**: Pattern + Entropy (contextual excluded from v1, ML extension points only)
- **Default action**: Redact (replace with `[REDACTED:type]`)
- **PII**: Include SSN, credit cards, phone numbers
- **Audit**: Full audit trail for compliance
- **Allowlist**: CLI commands + config file
- **Files**: Redact content (don't skip files)
- **Scanning**: Yes, with full remediation capability
- **Dependencies**: Pure Python only

## Related Files
- docs/spec/active/2025-12-25-secrets-filtering/README.md

---
type: decisions
timestamp: '2025-12-26T00:31:49.358323+00:00'
summary: '...(new directory with full spec)'
---

...(new directory with full spec)
- `CLAUDE.md` (modified with Active Spec Projects section)

[decision] Switched to existing v1.0.0 branch which contains merged subconsciousness and multi-domain...

---
type: decisions
timestamp: '2025-12-26T00:31:49.400618+00:00'
summary: Finalized v1 scope and design decisions
---

Finalized v1 scope and design decisions
## Summary
User confirmed scope: Pattern + Entropy detection, PII included, full audit logging, CLI + config allowlist, redact file content.

## Rationale
- **Detection layers**: Pattern + Entropy (contextual excluded from v1, ML extension points only)
- **Default action**: Redact (replace with `[REDACTED:type]`)
- **PII**: Include SSN, credit cards, phone numbers
- **Audit**: Full audit trail for compliance
- **Allowlist**: CLI commands + config file
- **Files**: Redact content (don't skip files)
- **Scanning**: Yes, with full remediation capability
- **Dependencies**: Pure Python only

## Related Files
- docs/spec/active/2025-12-25-secrets-filtering/README.md

---
type: decisions
timestamp: '2025-12-26T00:32:12.679767+00:00'
summary: '...(new directory with full spec)

  - `CLAUDE.md` (modified with Active Spec Projects section)

  [de...'
tags:
- auto-captured
- pre-compact
---

...(new directory with full spec)
- `CLAUDE.md` (modified with Active Spec Projects section)

[decision] Switched to existing v1.0.0 branch which contains merged subconsciousness and multi-domain...

---
type: decisions
timestamp: '2025-12-26T00:32:12.780145+00:00'
summary: '▶ decision ─────────────────────────────────────

  Finalized v1 scope and design decisions

  ## Summ...'
tags:
- auto-captured
- pre-compact
---

Finalized v1 scope and design decisions
## Summary
User confirmed scope: Pattern + Entropy detection, PII included, full audit logging, CLI + config allowlist, redact file content.

## Rationale
- **Detection layers**: Pattern + Entropy (contextual excluded from v1, ML extension points only)
- **Default action**: Redact (replace with `[REDACTED:type]`)
- **PII**: Include SSN, credit cards, phone numbers
- **Audit**: Full audit trail for compliance
- **Allowlist**: CLI commands + config file
- **Files**: Redact content (don't skip files)
- **Scanning**: Yes, with full remediation capability
- **Dependencies**: Pure Python only

## Related Files
- docs/spec/active/2025-12-25-secrets-filtering/README.md

---
type: decisions
timestamp: '2025-12-26T00:32:12.976537+00:00'
summary: '▶ decision ─────────────────────────────────────

  Integration plan for v1.0.0 release

  ## Summary

  ...'
tags:
- auto-captured
- pre-compact
---

Integration plan for v1.0.0 release
## Summary
Feature branches will be merged into v1.0.0 on user's schedule after implementation is complete.

## Rationale
User wants controlled integration of 4 feature branches into v1.0.0:

| Branch | Status | GitHub Issue |
|--------|--------|--------------|
| `issue-10-observability` | Pending | #10 |
| `issue-11-subconsciousness` | Already merged | #11 |
| `issue-12-secrets-filtering` | Spec complete, awaiting impl | #12 |
| `issue-13-multi-domain` | Already merged | #13 |

## Related Files
- docs/spec/active/2025-12-25-secrets-filtering/ (on issue-12 branch)

---
type: decisions
timestamp: '2025-12-26T00:32:21.507741+00:00'
summary: User confirmed full 3-tier implementation with optional extras pattern
---

User confirmed full 3-tier implementation with optional extras pattern
## Summary
All three observability tiers will be implemented, with OpenTelemetry as an optional `[monitoring]` extra.

## Rationale
- Full implementation provides complete observability stack
- Optional extras pattern (`pip install .[monitoring]`) keeps core lightweight
- Structured JSON logging becomes new default
- Unified debug levels replace fragmented HOOK_DEBUG

## Related Files
- pyproject.toml (extras configuration)
- docs/spec/active/2025-12-25-observability-instrumentation/

---
type: decisions
timestamp: '2025-12-26T00:32:21.587049+00:00'
summary: Finalized v1 scope and design decisions
---

Finalized v1 scope and design decisions
## Context
User approved the observability instrumentation specification after review. All planning artifacts are complete and ready for implementation.

## Decision
Approved SPEC-2025-12-25-001 (Observability Instrumentation and Distributed Tracing) for implementation with the following scope:
- 6 phases, 29 tasks covering Tier 1-3 observability features
- Core infrastructure with optional extras pattern
- Docker Compose local stack for development
- Multi-provider documentation (7 platforms)
- Session identification for multi-tenant telemetry

## Rationale
The specification is comprehensive with:
- Complete requirements covering all user needs (GitHub Issue #10)
- Detailed technical architecture with 7 components
- Well-defined implementation plan with clear acceptance criteria
- 11 ADRs documenting all major design decisions
- Risk mitigation strategies for all identified concerns

## Related Files
- docs/spec/active/2025-12-25-observability-instrumentation/README.md:1-16
- docs/spec/active/2025-12-25-observability-instrumentation/CHANGELOG.md:5-10
