---
type: learnings
timestamp: '2025-12-22T00:02:05.880526+00:00'
summary: v0.7.0 never published to PyPI despite workflow "success"
---

v0.7.0 never published to PyPI despite workflow "success"
## Context
The GitHub Actions workflow #17 for v0.7.0 "completed in 45s" (vs normal 2+ min) but the version is absent from PyPI's release list. This indicates the publish step likely failed silently or was skipped.

## Root Cause Analysis
1. **Lightweight tag**: `v0.7.0` was created as a lightweight tag (type: `commit`) instead of annotated tag
2. **Fast completion**: 45 seconds is too fast for a full publish cycle (checkout → deps → tests → build → publish)
3. **Missing from PyPI**: Only 13 versions exist, jumping from 0.6.2 directly to 0.7.1

## Related Files
- .github/workflows/publish.yml:1-47
- pyproject.toml:181-206 (bump-my-version config)

---
type: learnings
timestamp: '2025-12-22T23:26:48.487334+00:00'
summary: '...**explicit and manual**:'
tags:
- auto-captured
- post-tool-use
- file:issue-subconsciousness.md
---

...**explicit and manual**:
- Users must explicitly capture memories with markers (`[decision]`, `[learned]`, etc.)
- Recall requires explicit search queries
- No automatic consolidation of related...

---
type: learnings
timestamp: '2025-12-22T23:26:48.514808+00:00'
summary: '...rule-based, not context-aware'
tags:
- auto-captured
- post-tool-use
- file:issue-subconsciousness.md
---

...rule-based, not context-aware

This results in:
1. **Capture fatigue**: Users forget to mark important decisions
2. **Information overload**: Old, redundant memories accumulate
3. **Missed connections**:...

---
type: learnings
timestamp: '2025-12-22T23:26:48.676772+00:00'
summary: '...│'
tags:
- auto-captured
- post-tool-use
- file:issue-subconsciousness.md
---

...│
│                                                               │
│  2. [learned] SQLite FTS5 requires explicit column list       │
│     Confidence: 0.76...

---
type: learnings
timestamp: '2025-12-22T23:26:48.778884+00:00'
summary: '...surfacing has >50% "useful" rating'
tags:
- auto-captured
- post-tool-use
- file:issue-subconsciousness.md
---

...surfacing has >50% "useful" rating
- [ ] Decay system archives stale memories without losing important ones
- [ ] All features toggleable via environment variables
- [ ] LLM calls cached/batched...

---
type: learnings
timestamp: '2025-12-24T04:31:47.728198+00:00'
summary: LSP tool is not a standard documented Claude Code feature
---

LSP tool is not a standard documented Claude Code feature
## Context
After testing with `ENABLE_LSP_TOOL=1` in `.claude/settings.local.json`, the LSP tool still returns "No LSP server available". Documentation search confirms this is not an officially documented feature.

## Findings
- The LSP tool exists in Claude Code's tool list but is not documented
- No official settings key or flag exists to enable it
- The `ENABLE_LSP_TOOL` env var doesn't activate it
- May be experimental/beta or require Anthropic-side enablement

## Related Files
- .claude/settings.local.json (created but ineffective)

---
type: learnings
timestamp: '2025-12-24T04:34:18.442119+00:00'
summary: LSP tool is not a standard documented Claude Code feature
---

LSP tool is not a standard documented Claude Code feature
## Context
After testing with `ENABLE_LSP_TOOL=1` in `.claude/settings.local.json`, the LSP tool still returns "No LSP server available". Documentation search confirms this is not an officially documented feature.

## Findings
- The LSP tool exists in Claude Code's tool list but is not documented
- No official settings key or flag exists to enable it
- The `ENABLE_LSP_TOOL` env var doesn't activate it
- May be experimental/beta or require Anthropic-side enablement

## Related Files
- .claude/settings.local.json (created but ineffective)

---
type: learnings
timestamp: '2025-12-24T04:34:18.461086+00:00'
summary: LSP tool exists but is broken due to race condition bug in Claude Code
---

LSP tool exists but is broken due to race condition bug in Claude Code
## Context
GitHub issue #14803 confirms this is a known bug affecting versions 2.0.69+. The LSP Manager initializes before plugins finish loading, causing "No LSP server available" errors.

## Key Findings
- **Working version**: v2.0.67
- **Broken versions**: v2.0.69 through current (v2.0.74+)
- **Root cause**: Race condition - LSP Manager registers 0 servers before plugins load
- **Status**: Open bug with "oncall" label

## Workarounds
1. Downgrade to v2.0.67
2. Use community patch: `npx tweakcc --apply`

## Related Files
- .claude/settings.local.json (our attempt was correct but blocked by bug)

---
type: learnings
timestamp: '2025-12-24T04:38:25.453744+00:00'
summary: LSP tool is not a standard documented Claude Code feature
---

LSP tool is not a standard documented Claude Code feature
## Context
After testing with `ENABLE_LSP_TOOL=1` in `.claude/settings.local.json`, the LSP tool still returns "No LSP server available". Documentation search confirms this is not an officially documented feature.

## Findings
- The LSP tool exists in Claude Code's tool list but is not documented
- No official settings key or flag exists to enable it
- The `ENABLE_LSP_TOOL` env var doesn't activate it
- May be experimental/beta or require Anthropic-side enablement

## Related Files
- .claude/settings.local.json (created but ineffective)

---
type: learnings
timestamp: '2025-12-24T04:38:25.475080+00:00'
summary: LSP tool exists but is broken due to race condition bug in Claude Code
---

LSP tool exists but is broken due to race condition bug in Claude Code
## Context
GitHub issue #14803 confirms this is a known bug affecting versions 2.0.69+. The LSP Manager initializes before plugins finish loading, causing "No LSP server available" errors.

## Key Findings
- **Working version**: v2.0.67
- **Broken versions**: v2.0.69 through current (v2.0.74+)
- **Root cause**: Race condition - LSP Manager registers 0 servers before plugins load
- **Status**: Open bug with "oncall" label

## Workarounds
1. Downgrade to v2.0.67
2. Use community patch: `npx tweakcc --apply`

## Related Files
- .claude/settings.local.json (our attempt was correct but blocked by bug)

---
type: learnings
timestamp: '2025-12-24T04:39:21.920004+00:00'
summary: LSP tool is not a standard documented Claude Code feature
---

LSP tool is not a standard documented Claude Code feature
## Context
After testing with `ENABLE_LSP_TOOL=1` in `.claude/settings.local.json`, the LSP tool still returns "No LSP server available". Documentation search confirms this is not an officially documented feature.

## Findings
- The LSP tool exists in Claude Code's tool list but is not documented
- No official settings key or flag exists to enable it
- The `ENABLE_LSP_TOOL` env var doesn't activate it
- May be experimental/beta or require Anthropic-side enablement

## Related Files
- .claude/settings.local.json (created but ineffective)

---
type: learnings
timestamp: '2025-12-24T04:39:21.939472+00:00'
summary: LSP tool exists but is broken due to race condition bug in Claude Code
---

LSP tool exists but is broken due to race condition bug in Claude Code
## Context
GitHub issue #14803 confirms this is a known bug affecting versions 2.0.69+. The LSP Manager initializes before plugins finish loading, causing "No LSP server available" errors.

## Key Findings
- **Working version**: v2.0.67
- **Broken versions**: v2.0.69 through current (v2.0.74+)
- **Root cause**: Race condition - LSP Manager registers 0 servers before plugins load
- **Status**: Open bug with "oncall" label

## Workarounds
1. Downgrade to v2.0.67
2. Use community patch: `npx tweakcc --apply`

## Related Files
- .claude/settings.local.json (our attempt was correct but blocked by bug)
